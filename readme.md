| 这个作业属于哪个课程 | [班级的链接](https://bbs.csdn.net/forums/fzusdn-0831)   |
| -------------------- | ------------------------------------------------------- |
| 这个作业要求在哪里   | [作业要求的链接](https://bbs.csdn.net/topics/617335682) |
| 个人学号             | 102299210                                               |
| 结对成员学号         | 102299120                                               |
| GitHub 仓库地址      | [GitHub仓库地址](https://github.com/Leen-Ouyang/Sudoku) |

## 运行方式
- 运行 GUI.py
- 运行 /dist/数多窟.exe &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;←优先选择

### PSP表格

| PSP任务                      | 估计时间（分钟） | 实际时间（分钟） |
| ---------------------------- | ---------------- | ---------------- |
| 计划制定                     | 45               | 30               |
| 需求分析                     | 45               | 30               |
| 具体编码                     | 240              | 180              |
| 测试（单元测试，功能测试等） | 30               | 30               |
| 编写文档                     | 60               | 30               |
| 重构代码                     | 60               | 45               |
| 项目总结                     | 45               | 30               |
| 合计                         | 525              | 375              |

### 重点功能及编程思考

**重点功能**

1. 并发的9个九宫格数独
2. 数独生成和解答
3. 界面刷新和数据更新

**对应实现方法**

1. 使用 `concurrent.futures` 进行并发数独的生成和求解
2. 使用了编写的 `RandomSudoku` 模块来生成和解答数独题目。该模块的集成和正确使用是一个重点，因为它直接影响到数独游戏的核心功能。
3. 当切换数独题目、选择数字、切换难度等操作发生时，需要更新界面上的数据和显示，这涉及到界面刷新和数据同步的问题。

### 算法和技术

- 使用 `tkinter` `ttkbootstrap`构建前端
- 使用 `concurrent.futures` 进行并发生成、求解
- 使用 `递归回溯` 进行数独求解

#### 数独求解具体实现思路

1. 找到数独中的一个空格（值为0的格子）。
2. 从1到9尝试填入数字，检查该数字是否满足数独的规则（同一行、同一列、同一3x3宫格内不能有相同数字）。
3. 如果找到一个符合规则的数字，则递归地继续向下尝试解决下一个空格。
4. 如果填入的数字导致后续空格无法解决，回溯到上一个空格，尝试其他数字。
5. 如果所有数字都尝试过仍无法解决，回溯到上一个空格，修改上一个空格填入的数字，并继续尝试其他数字。

这个过程持续进行，直到所有的空格都被填满，数独得到解答，或者无解。

#### UI设计思路

1. 更新数独显示：
`update_sudoku_display` 函数用于更新数独显示，根据输入的数独索引 idx 更新对应的数独显示。
2. 切换数独题目：
`switch_sudoku` 函数用于切换数独题目，通过监听选项卡切换事件，更新当前数独显示。
3. 高亮格子和数字选择：
`highlight_cell` 函数用于高亮当前选择的格子，并绑定数字选择事件。
4. 生成界面：
`generate_interface` 函数用于生成界面，包括数独显示、难度选择、数字选择、显示答案等。
5. 切换难度：
`change_difficulty` 函数用于切换难度，更新数独显示，并初始化或更新非空白格子的背景色。
6. 选择数字：
`select_number` 函数用于选择数字，将用户选择的数字填入当前选中的格子。
7. 显示答案：
`show_answer` 函数用于显示数独的答案。
8. 调用函数生成界面：
在程序的最后，调用 `generate_interface` 函数生成数独界面。



### 花费最长时间/收获最大的事件

1. **程序优化与调整**：
 讨论和修改程序代码、算法，特别是数独生成、界面设计、按钮功能等方面。这花费了较多时间，但也加强了对Python、tkinter以及并发编程的理解。
**收获总结**： 提高了编程能力，加深了对Python和tkinter库的理解，熟练了并发编程的基本概念，学到了在程序设计中的优化和调整策略。
2. **技术细节讨论**： 
包括数独生成算法、界面显示、数独求解方法、程序打包成exe等技术细节的深入探讨。
**收获总结**： 增加了对数独算法的了解，掌握了在界面设计中的技术要点，了解了程序打包成exe的方法和步骤。
3. **界面设计与交互优化**： 
包括在tkinter中设计用户界面、按钮功能、数独格子的交互等方面的深入探讨和调整。
**收获总结**： 提高了界面设计和用户交互的能力，加深了对tkinter库的理解，学到了优化用户体验的关键因素，例如如何设计更友好、直观的界面，以及如何实现良好的用户交互。



### 结队照片

![1](https://i.imgs.ovh/2023/10/07/LkroI.jpeg)
![2](https://i.imgs.ovh/2023/10/07/Lk2YV.jpeg)



## 总结与感悟

### 102299210李婧雯

#### 评价

此次作业相比起第一次结对作业更轻松：

1. 由于第一次结对作业的时候已经完成了“9个九宫格数独生成和求解”的内容，大部分组件无需大改即可直接复用节省了不少时间。

2. 第一次作业团队进行了磨合，有了协作经验，再沟通交流上更加顺畅。
3. 此次作业时间更加宽裕，放在国庆假期，有充足的课外时间完成任务。（但放在国庆假期确实需要对意志力有所要求。毕竟在假期期间有无数的诱惑和娱乐活动T^T）

#### 收获

本次作业中，我们深入了解了并发编程。在实现并发生成和求解数独的过程中，我们遇到了许多挑战，如线程同步、资源竞争等。通过解决这些问题，我们更好地理解了多线程编程的核心概念。这对于今后开发多线程应用程序将是非常有益的经验。

此外，我们阅读了`ttkbootstrap`的官方手册，加深了对`tkinter`的了解。

最后，通过结对编程，我们提高了团队协作和问题解决的能力。

### 102299120张一辰

这次作业相较于第一次结对作业更为轻松，得益于之前的基础工作和团队默契：
- 第一次作业完成了九宫格数独生成和求解的基础内容，这次作业中大部分组件可以直接复用，节省了大量时间。
- 团队交流十分顺畅，我们两个人互相都能很流畅的表达自己的需求和简介，并向对方提出清晰的要求和建议，这是在团队协作中极好配合的表现
- 加之假期时间充裕，有充足完成优化的时间

在本次作业过程中，我加深了对并发性的理解，建立了对高并发场景的基本认知。这对我的学习和工作带来了显著进步，使我不再局限于单机思维，而是能够考虑多机并发请求对服务器承载造成的压力。